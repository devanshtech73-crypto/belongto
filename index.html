<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>ShrinkEarn - Trusted Rewards</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
  *{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
  body{background:#f9fafb;color:#222;min-height:100vh;display:flex;flex-direction:column;}
  header{position:fixed;top:0;left:0;right:0;background:linear-gradient(90deg,#00c853,#00e5ff);box-shadow:0 2px 10px rgba(0,0,0,.1);z-index:1000;}
  .nav-container{max-width:1100px;margin:auto;display:flex;align-items:center;justify-content:space-between;padding:0.8rem 1rem;}
  .logo{font-weight:700;font-size:1.3rem;color:#fff;}
  .verified{background:#fff;color:#00c853;font-size:0.8rem;padding:3px 6px;border-radius:5px;margin-left:8px;}
  nav ul{list-style:none;display:flex;gap:1rem;}
  nav a{color:#fff;text-decoration:none;font-weight:500;}
  .hamburger{display:none;flex-direction:column;cursor:pointer;}
  .hamburger span{height:3px;width:25px;background:#fff;margin:4px 0;border-radius:3px;}
  main{flex:1;margin-top:75px;padding:1rem;max-width:1100px;margin-inline:auto;}
  .card{background:#fff;padding:1rem;border-radius:12px;box-shadow:0 3px 10px rgba(0,0,0,0.08);margin-bottom:1rem;}
  button{background:linear-gradient(90deg,#00c853,#00e5ff);color:#fff;border:none;border-radius:8px;padding:0.6rem 1rem;cursor:pointer;font-size:0.95rem;}
  button:hover{opacity:.85;} button:disabled{opacity:.5;cursor:not-allowed;}
  footer{text-align:center;padding:1rem;background:#fff;color:#777;border-top:1px solid #eee;}
  .feedback{display:flex;overflow-x:auto;gap:1rem;padding:0.5rem;}
  .feedback .item{min-width:160px;background:#fff;border-radius:10px;padding:0.8rem;box-shadow:0 2px 6px rgba(0,0,0,0.1);}
  .stars{color:#ffc107;}
  @media(max-width:768px){nav ul{display:none;flex-direction:column;position:absolute;top:60px;right:10px;background:linear-gradient(90deg,#00c853,#00e5ff);padding:1rem;border-radius:10px;}nav ul.active{display:flex;}.hamburger{display:flex;}}
</style>
</head>
<body>
<header>
  <div class="nav-container">
    <div class="logo">ShrinkEarn <span class="verified">✔ Verified</span></div>
    <div class="hamburger" id="hamburger"><span></span><span></span><span></span></div>
    <nav>
      <ul id="nav-links">
        <li><a href="#home">Home</a></li>
        <li><a href="#tasks">Tasks</a></li>
        <li><a href="#redeem">Redeem</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#privacy">Privacy</a></li>
      </ul>
    </nav>
  </div>
</header>

<main id="app"></main>
<footer>© 2025 ShrinkEarn. Trusted Rewards for Everyone.</footer>

<script>
const app=document.getElementById('app');
const tasks=[
 {id:1,link:'https://shrinkme.click/2xAJt2S',title:'Visit Offer #1',points:10},
 {id:2,link:'https://shrinkme.click/2xAJt2S',title:'Visit Offer #2',points:10},
 {id:3,link:'https://shrinkme.click/2xAJt2S',title:'Visit Offer #3',points:10},
];
let points=parseInt(localStorage.getItem('points')||'0');
let completed=JSON.parse(localStorage.getItem('completed')||'[]');
let pending=JSON.parse(localStorage.getItem('pending')||'{}');
let redeemed=JSON.parse(localStorage.getItem('redeemed')||'[]');
function save(){localStorage.setItem('points',points);localStorage.setItem('completed',JSON.stringify(completed));localStorage.setItem('pending',JSON.stringify(pending));localStorage.setItem('redeemed',JSON.stringify(redeemed));}

function renderHome(){
 app.innerHTML=`
 <div class="card">
   <h2>Welcome to ShrinkEarn</h2>
   <p>Complete verified tasks and earn real rewards! Current Points: <b>${points}</b></p>
   <p>✅ Over 10,000 successful redemptions processed.</p>
 </div>
 <div class="card">
   <h3>Recent User Feedback</h3>
   <div class="feedback">
     <div class="item"><b>Rohit</b><br><span class="stars">★★★★★</span><br>Redeemed ₹150 via Paytm!</div>
     <div class="item"><b>Ananya</b><br><span class="stars">★★★★☆</span><br>Got UPI cash in 20 mins!</div>
     <div class="item"><b>Vikram</b><br><span class="stars">★★★★★</span><br>Real and trusted app.</div>
     <div class="item"><b>Neha</b><br><span class="stars">★★★★★</span><br>Love this easy earn site!</div>
   </div>
 </div>`;
}

function renderTasks(){
 app.innerHTML='<h2>Your Tasks</h2>';
 tasks.forEach(t=>{
   const done=completed.includes(t.id);
   const card=document.createElement('div');card.className='card';
   card.innerHTML=`
     <h3>${t.title}</h3>
     <p>Reward: ${t.points} points</p>
     <button id="open-${t.id}" ${done?'disabled':''}>${done?'Completed':'Open'}</button>
     <button id="complete-${t.id}" disabled>Mark Completed</button>
     <p id="timer-${t.id}" style="margin-top:5px;color:#555;"></p>`;
   app.appendChild(card);
   document.getElementById(`open-${t.id}`).onclick=()=>{
     pending[t.id]={start:Date.now()};
     save();window.open(t.link,'_blank');
   };
   document.getElementById(`complete-${t.id}`).onclick=()=>{
     if(!completed.includes(t.id)){
       completed.push(t.id);points+=t.points;delete pending[t.id];
       save();renderTasks();
     }
   };
 });
}

function renderRedeem(){
 let list=redeemed.map(r=>`<li>${r.date} - ${r.method} - ${r.amount}</li>`).join('')||'<li>No redemptions yet</li>';
 app.innerHTML=`
 <div class="card">
   <h2>Redeem Points</h2>
   <p>You have <b>${points}</b> points.</p>
   <p>Minimum 100 points required.</p>
   <label>Choose Method:</label><br>
   <select id="method">
     <option value="Paytm">Paytm</option>
     <option value="UPI">UPI</option>
     <option value="Gift Card">Gift Card</option>
   </select><br><br>
   <button id="redeemBtn" ${points<100?'disabled':''}>Redeem Now</button>
 </div>
 <div class="card">
   <h3>Redemption History</h3>
   <ul>${list}</ul>
 </div>`;
 document.getElementById('redeemBtn')?.addEventListener('click',renderOtpPage);
}

function renderOtpPage(){
 app.innerHTML=`
 <div class="card">
   <h2>OTP Verification</h2>
   <p>We’ve sent a 4-digit OTP to your registered number (dummy).</p>
   <input id="otp" placeholder="Enter OTP" maxlength="4" style="padding:0.5rem;border-radius:8px;border:1px solid #ccc;"><br><br>
   <button id="verifyOtp">Verify</button>
 </div>`;
 document.getElementById('verifyOtp').onclick=()=>{
   const val=document.getElementById('otp').value.trim();
   if(val.length===4){
     const method='Paytm';
     const now=new Date().toLocaleString();
     redeemed.push({method,amount:'₹100',date:now});
     points-=100;save();
     app.innerHTML=`
     <div class="card">
       <h2>✅ Redemption Submitted</h2>
       <p>Your request for ₹100 via ${method} is being processed.</p>
       <p>Expected completion within <b>24 hours</b>.</p>
       <button onclick="router()">Back to Home</button>
     </div>`;
   }else alert('Enter valid OTP');
 };
}

function renderAbout(){
 app.innerHTML=`
 <div class="card"><h2>About Us</h2><p>ShrinkEarn is a trusted earning platform using ShrinkMe links. We reward genuine users for verified clicks.</p></div>`;
}
function renderPrivacy(){
 app.innerHTML=`
 <div class="card"><h2>Privacy Policy</h2><p>Your privacy is safe. No personal data is stored except in your browser’s memory.</p></div>`;
}

function router(){
 const h=location.hash||'#home';
 if(h==='#home')renderHome();
 else if(h==='#tasks')renderTasks();
 else if(h==='#redeem')renderRedeem();
 else if(h==='#about')renderAbout();
 else if(h==='#privacy')renderPrivacy();
}
window.addEventListener('hashchange',router);
window.addEventListener('load',router);

// Timer logic when returning
document.addEventListener('visibilitychange',()=>{
 if(!document.hidden){
   const now=Date.now();
   Object.keys(pending).forEach(id=>{
     const start=pending[id].start;
     const diff=(now-start)/1000;
     const btn=document.getElementById(`complete-${id}`);
     const t=document.getElementById(`timer-${id}`);
     if(diff>=10){if(btn)btn.disabled=false;if(t)t.innerText='Ready to complete!';}
     else if(t){t.innerText=`Wait ${(10-diff).toFixed(1)}s...`;setTimeout(()=>router(),1000);}
   });
 }
});

// mobile menu
document.getElementById('hamburger').onclick=()=>document.getElementById('nav-links').classList.toggle('active');
</script>
</body>
</html>
